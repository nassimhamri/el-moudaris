<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>El Moudaris – Module Croyance</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="/css/styles.css">
   <link rel="icon" href="/medias/logo/favicon.png" type="image/png">
</head>
<body>
<header>




    <!-- ============================== 
     BARRE DE NAVIGATION
      ============================== -->
<section id="nav-placeholder"></section>

</header>
 
  <style>
    :root {
      --color-bg: #FFFBF0;
      --color-border: #eeeeee;
      --color-v-tab-bg: #f1dcdc;
      --color-v-tab-hover: #a80000;
      --color-v-tab-active: #a80000;
      --color-h-tab-audio: #a800002d;
      --color-h-tab-quiz: #a800002d;
      --color-h-tab-memo: #a800002d;
      --color-btn-bg: #a80000;
      --color-btn-hover: #1b91f6;
      --color-btn-selected: #a80000;
      --color-progress-bg: #cecece;
      --color-progress-bar: #06b81e;
      --font-main: 'Cairo', sans-serif;
    }

    #ic-wrapper {
      display:flex; max-width:100%; background:var(--color-bg);
      border:2px solid var(--color-border); border-radius:0 0 12px 12px;
      min-height:500px; overflow:hidden; transform:scale(var(--scale-factor));
      transform-origin:top center;
    }
    .ic-v-tabs {
      display:flex; flex-direction:column; background:var(--color-v-tab-bg);
      border-right:2px solid var(--color-border); min-width:140px;
      position:relative; z-index:10;
    }
    .ic-v-tab {
      padding:1rem; border:none; background:none; width:100%;
      cursor:pointer; font-weight:600; transition:background .3s,opacity .3s;
      text-align:left;
    }
    .ic-v-tab:hover:not(:disabled) { background:var(--color-v-tab-hover); }
    .ic-v-tab.ic-active { background:var(--color-v-tab-active); color:#fff; }
    .ic-v-tab.ic-completed { background:#06b81e; color:#fff; }
    .ic-v-tab.ic-completed:hover:not(:disabled) { background:#05a017; }
    .ic-v-tab:disabled, .ic-v-tab.ic-locked { opacity:0.4; cursor:not-allowed; }

    .ic-course-zone { flex:1; padding:1.5rem; overflow-y:auto; background:#fff; }

    .ic-course { display:none; }
    .ic-course.ic-active { display:block; }

    .ic-h-tabs {
      display:flex; margin-top:1rem; gap:4px; position:relative; z-index:1;
    }
    .ic-h-tab {
      flex:1; padding:.25rem; border:none; cursor:pointer;
      background:#fff; border-radius:8px 8px 0 0; font-weight:600;
      text-align:center; transition:transform .2s;
    }
    .ic-h-tab[data-tab="audio"] { background:var(--color-h-tab-audio); }
    .ic-h-tab[data-tab="quiz"]  { background:var(--color-h-tab-quiz); }
    .ic-h-tab[data-tab="memo"]  { background:var(--color-h-tab-memo); }
    .ic-h-tab:hover:not(:disabled) { transform:translateY(-2px); }
    .ic-h-tab.ic-active {
      background:var(--color-v-tab-active); color:white;
      box-shadow:0 2px 4px rgba(0,0,0,0.1);
      max-width: auto;
      border-bottom: #a80000 3px solid;
    }
    
    .ic-h-tab:disabled { opacity:0.4; cursor:not-allowed; }

    .ic-panels {
      padding:2rem 1rem; background:#eeeeee;
      border-radius:0 0 8px 8px; box-shadow:inset 0 2px 4px rgba(0,0,0,0.05);
    }
    .ic-panel { display:none; }
    .ic-panel.ic-active { display:block; }

    .ic-progress {
      width:100%; height:16px; background:var(--color-progress-bg);
      border-radius:8px; overflow:hidden; margin-bottom:1rem;
    }
    .ic-bar {
      height:100%; width:0; background:var(--color-progress-bar);
      transition:width .3s;
    }

    .ic-btn {
      display:inline-block; padding:.60rem 1.2rem; border:none;
      border-radius:9px; background:var(--color-btn-bg); color:#fff;
      cursor:pointer; transition:background .3s,transform .2px;
      font-size:.90rem; margin:.5rem;
    }
    .ic-btn:hover:not(:disabled) {
      background:var(--color-btn-hover); transform:translateY(-1px);
    }
    .ic-btn:disabled { opacity:0.4; cursor:not-allowed; }

    .ic-answer-btn {
      padding:.75rem 1rem; border:2px solid var(--color-btn-bg);
      border-radius:8px; background:#fff; color:black;
      cursor:pointer; transition:background .3s,border-color .3s;
      font-size:1rem;
    }
    .ic-answer-btn:hover { background:var(--color-v-tab-hover); color:#000; }
    .ic-answer-btn.ic-selected {
      background:var(--color-btn-selected);
      color:#000; border-color:var(--color-btn-selected);
    }

    .ic-quiz-box { display:flex; flex-direction:column; gap:1rem; }
    .choices {
      display:grid; grid-template-columns:repeat(2,1fr); gap:.5rem;
    }
    .congrats-style {
      font-size:1.8rem; font-weight:bold; color:#000;
      margin:1rem 0; text-align:center;
    }

    .ic-resources-grid {
      display:flex; gap:2rem; align-items:center;
      justify-content:center;
    }
    .ic-resource-cell {
      flex:1; display:flex; flex-direction:column;
      align-items:center; justify-content:center; margin:auto;
    }

  
 /* Cadre PDF limité à sa cellule et centré */
.pdf-viewer {
  display: flex;
  align-items: center;
  justify-content: center;    /* centre horizontalement */
  gap: 0.5rem;
  max-width: 100%;
  overflow: hidden;
}

.pdf-canvas {
  border: 1px solid var(--color-border);
  border-radius: 8px;
  max-width: 100%;            /* ne dépasse pas la largeur de la cellule */
  max-height: 550px;          /* limite en hauteur comme avant */
  width: auto;
  height: auto;
  margin: auto;               /* centre dans le flex */

}

    .pdf-nav {
      background: var(--color-btn-bg);
      color:white;
      border: none;
      font-size: 1.2rem;
      cursor: pointer;
      padding: 0.8rem;
      flex-shrink: 0;
      border-radius: 8px;
    }
 

    @media (max-width:900px) {
      #ic-wrapper { flex-direction:column; transform:none; }
      .ic-v-tabs {
        flex-direction:column; border-right:none;
        border-bottom:2px solid var(--color-border); order:0;
      }
      .ic-v-tab {
        flex:none; border-top:1px solid var(--color-border);
        border-radius:0; text-align:center;
      }
      .ic-h-tabs { order:1; }
      .ic-v-tab.ic-locked { display:block; opacity:0.6; }
      .ic-btn, .ic-answer-btn {
        padding:.5rem .75rem; font-size:.875rem; margin:.25rem;
      }
      .choices { gap:.25rem; }
    }
    @media (max-width:600px) {
      .ic-panel[data-tab="memo"] .ic-resources-grid {
        flex-direction:column-reverse;
      }
    }


    @media (max-width: 600px) {
  /* Passe le viewer en colonne */
  .pdf-viewer {
    flex-direction: column;
    align-items: center;
  }
  /* Assure que le canvas vient en premier */
  .pdf-canvas {
    order: 1;
  }
  /* Place les deux boutons juste après le canvas */
  .pdf-nav {
    order: 2;
    margin: 0.25rem 0;  /* un petit écart vertical */
  }
}
</style>

<section class="primary-section" style="margin-top:100px;">
<div class="container">

 <div id="ic-wrapper">
    <aside class="ic-v-tabs">
      <button class="ic-v-tab ic-active" data-course="1">Cours n°1 - Les trois questions</button>
      <button class="ic-v-tab ic-locked" data-course="2" disabled>Cours n°2 - Le noble Coran</button>
      <button class="ic-v-tab ic-locked" data-course="3" disabled>Cours n°3 - La parole de l'unicité</button>
      <button class="ic-v-tab ic-locked" data-course="4" disabled>Cours n°4 - Où est Allah ?</button>
    </aside>
    <section class="ic-course-zone"></section>
    <template id="ic-course-template">
      <div class="ic-course" data-course="{{i}}">
        <nav class="ic-h-tabs">
          <button class="ic-h-tab ic-active" data-tab="audio">Audio</button>
          <button class="ic-h-tab" data-tab="quiz" disabled>Quiz</button>
          <button class="ic-h-tab" data-tab="memo" disabled>Ressources</button>
        </nav>
        <div class="ic-panels">
          <div class="ic-panel ic-active" data-tab="audio">
            <h3>Cours n°{{i}}</h3>
            <p style="margin-top:15px; color:red;">*Écoute attentivement avant de commencer le Quiz.</p>
            <audio controls preload="auto" autoplay src="/medias/modules/croyance/cours/course{{i}}.mp3"></audio>
            <div class="buttononglet">
              <button class="ic-btn ic-play">▶ Écouter</button>
              <button class="ic-btn ic-pause">❚❚ Pause</button>
              <button class="ic-btn ic-restart">⟲ Répéter</button>
              <button class="ic-btn ic-unlock" style="border:1px solid #1b91f6; background-color:#1b91f6;">
                Commencer le Quiz ✨
              </button>
            </div>
          </div>
          <div class="ic-panel" data-tab="quiz">
            <div class="ic-progress"><div class="ic-bar"></div></div>
            <div class="ic-quiz-box"></div>
          </div>
          <div class="ic-panel" data-tab="memo">
            <h3>Ressources {{i}}</h3>
            <p style="color:red; margin-bottom:15px;">Écoute attentivement le memo et n'oublie pas de cliquer sur les flèches pour te répérer.</p>
            <div class="ic-resources-grid">
   
              <div class="ic-resource-cell">
                <div class="pdf-viewer" data-pdf-url="/medias/modules/croyance/memos/memo{{i}}.pdf">
                  <button class="pdf-nav pdf-prev" title="Page précédente">←</button>
                  <canvas class="pdf-canvas"></canvas>
                  <button class="pdf-nav pdf-next" title="Page suivante">→</button>
                </div>

                <audio controls preload="auto" autoplay src="/medias/modules/croyance/memos/memo{{i}}.mp3"
                       class="ic-audiomemo"></audio>
                <div class="ic-audiomemo-extra-controls">
                  <button class="ic-btn ic-play">▶ Lecture</button>
                  <button class="ic-btn ic-pause">❚❚ Pause</button>
                  <button class="ic-btn ic-restart">⟲ Répéter</button>
                </div>
              </div>
            </div>
            <div>
              <button class="ic-btn ic-next-course"
                      style="border:1px solid #1b91f6; background-color:#1b91f6;" disabled>
                Débloquer le cours suivant ✨
              </button>
            </div>
          </div>
        </div>
      </div>
    </template>
  </div>


</div>
</section>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <script>
    // On indique à PDF.js où se trouve le worker
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js';
  </script>

<section id="footer-placeholder"></section>
<script src="/js/script-modules.js" defer></script>
<script src="/js/script.js" defer></script>
</body>
</html>

